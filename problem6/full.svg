<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="2420.8328518767175" height="5873.200118070731"><desc>title%20Live%20Scoreboard%20System%20-%20Complete%20Flow%0A%0Aparticipant%20User%0Aparticipant%20Frontend%0Aparticipant%20Auth%20Service%0Aparticipant%20API%20Server%0Aparticipant%20Database%0Aparticipant%20WebSocket%20Server%0Aparticipant%20Redis%20Cache%0Aparticipant%20Other%20Users%0A%0A%23%20%3D%3D%3D%20PHASE%201%3A%20AUTHENTICATION%20%3D%3D%3D%0AUser%20-%3E%20Frontend%3A%201.%20Navigate%20to%20website%0AFrontend%20-%3E%20User%3A%202.%20Show%20login%20page%0AUser%20-%3E%20Frontend%3A%203.%20Enter%20credentials%20(username%2C%20password)%0AFrontend%20-%3E%20Auth%20Service%3A%204.%20POST%20%2Fauth%2Flogin%20%7Busername%2C%20password%7D%0AAuth%20Service%20-%3E%20Database%3A%205.%20SELECT%20user%20WHERE%20username%20%3D%20%3F%0ADatabase%20-%3E%20Auth%20Service%3A%206.%20Return%20user%20data%20%2B%20password%20hash%0AAuth%20Service%20-%3E%20Auth%20Service%3A%207.%20Verify%20password%20using%20bcrypt%0AAuth%20Service%20-%3E%20Database%3A%208.%20UPDATE%20last_login%20%3D%20NOW()%0ADatabase%20-%3E%20Auth%20Service%3A%209.%20Login%20timestamp%20updated%0AAuth%20Service%20-%3E%20Frontend%3A%2010.%20Return%20JWT%20token%20%2B%20user%20profile%0AFrontend%20-%3E%20Frontend%3A%2011.%20Store%20JWT%20in%20localStorage%0AFrontend%20-%3E%20User%3A%2012.%20Redirect%20to%20dashboard%0A%0A%23%20%3D%3D%3D%20PHASE%202%3A%20INITIAL%20SCOREBOARD%20LOAD%20%3D%3D%3D%0AFrontend%20-%3E%20API%20Server%3A%2013.%20GET%20%2Fapi%2Fscoreboard%20(Authorization%3A%20Bearer%20JWT)%0AAPI%20Server%20-%3E%20Auth%20Service%3A%2014.%20Validate%20JWT%20token%0AAuth%20Service%20-%3E%20API%20Server%3A%2015.%20Token%20valid%20%2B%20user%20claims%0AAPI%20Server%20-%3E%20Redis%20Cache%3A%2016.%20GET%20%22top_10_scores%22%0ARedis%20Cache%20-%3E%20API%20Server%3A%2017.%20Cache%20miss%20(or%20expired%20data)%0AAPI%20Server%20-%3E%20Database%3A%2018.%20SELECT%20TOP%2010%20*%20FROM%20users%20ORDER%20BY%20score%20DESC%0ADatabase%20-%3E%20API%20Server%3A%2019.%20Return%20top%2010%20users%20%7Bid%2C%20username%2C%20score%7D%0AAPI%20Server%20-%3E%20Redis%20Cache%3A%2020.%20SET%20%22top_10_scores%22%20(TTL%3A%2060%20seconds)%0AAPI%20Server%20-%3E%20Frontend%3A%2021.%20Return%20%7Btop10%3A%20%5B...%5D%2C%20userScore%3A%20X%2C%20userRank%3A%20Y%7D%0AFrontend%20-%3E%20User%3A%2022.%20Display%20current%20leaderboard%0A%0A%23%20%3D%3D%3D%20PHASE%203%3A%20WEBSOCKET%20CONNECTION%20%3D%3D%3D%0AFrontend%20-%3E%20WebSocket%20Server%3A%2023.%20Connect%20with%20JWT%20in%20headers%0AWebSocket%20Server%20-%3E%20Auth%20Service%3A%2024.%20Validate%20JWT%20token%0AAuth%20Service%20-%3E%20WebSocket%20Server%3A%2025.%20Token%20valid%20%2B%20user_id%0AWebSocket%20Server%20-%3E%20WebSocket%20Server%3A%2026.%20Add%20user%20to%20connections%20pool%0AWebSocket%20Server%20-%3E%20Frontend%3A%2027.%20Connection%20established%20event%0AFrontend%20-%3E%20Frontend%3A%2028.%20Set%20connection%20status%20%3D%20%22Live%22%0AFrontend%20-%3E%20User%3A%2029.%20Show%20%22%F0%9F%9F%A2%20Live%22%20indicator%0A%0A%23%20%3D%3D%3D%20PHASE%204%3A%20USER%20ACTION%20%3D%3D%3D%0AUser%20-%3E%20Frontend%3A%2030.%20Perform%20action%20(complete%20game%2Ftask%2Fpuzzle)%0AFrontend%20-%3E%20Frontend%3A%2031.%20Local%20validation%20%26%20generate%20proof%0Anote%20right%20of%20Frontend%3A%20Action%20proof%20contains%3A%5Cn-%20Action%20type%5Cn-%20Timestamp%5Cn-%20Action%20data%5Cn-%20Client%20signature%5Cn-%20Expected%20points%0AFrontend%20-%3E%20API%20Server%3A%2032.%20POST%20%2Fapi%2Fscore%2Fupdate%20%7Baction_proof%2C%20timestamp%7D%0A%0A%23%20%3D%3D%3D%20PHASE%205%3A%20SECURITY%20VALIDATION%20%3D%3D%3D%0AAPI%20Server%20-%3E%20Auth%20Service%3A%2033.%20Validate%20JWT%20token%0AAuth%20Service%20-%3E%20API%20Server%3A%2034.%20Token%20valid%20%2B%20user_id%20%2B%20permissions%0AAPI%20Server%20-%3E%20API%20Server%3A%2035.%20Validate%20action%20proof%0Anote%20right%20of%20API%20Server%3A%20Validation%20checks%3A%5Cn-%20Timestamp%20freshness%20(%3C30s)%5Cn-%20Action%20signature%20valid%5Cn-%20Rate%20limiting%5Cn-%20No%20duplicate%20actions%5Cn-%20Score%20increment%20reasonable%0AAPI%20Server%20-%3E%20Database%3A%2036.%20SELECT%20user%20permissions%20%26%20current%20score%0ADatabase%20-%3E%20API%20Server%3A%2037.%20Return%20user%20data%20%7Bid%2C%20score%2C%20permissions%7D%0AAPI%20Server%20-%3E%20API%20Server%3A%2038.%20Final%20security%20checks%20passed%0A%0A%23%20%3D%3D%3D%20PHASE%206%3A%20SCORE%20UPDATE%20%3D%3D%3D%0AAPI%20Server%20-%3E%20Database%3A%2039.%20BEGIN%20TRANSACTION%0AAPI%20Server%20-%3E%20Database%3A%2040.%20UPDATE%20users%20SET%20score%20%3D%20score%20%2B%20%3F%20WHERE%20id%20%3D%20%3F%0AAPI%20Server%20-%3E%20Database%3A%2041.%20INSERT%20INTO%20score_history%20(user_id%2C%20action%2C%20points%2C%20timestamp)%0ADatabase%20-%3E%20API%20Server%3A%2042.%20Transaction%20successful%0AAPI%20Server%20-%3E%20Database%3A%2043.%20COMMIT%20TRANSACTION%0ADatabase%20-%3E%20API%20Server%3A%2044.%20Return%20new%20score%20value%0A%0A%23%20%3D%3D%3D%20PHASE%207%3A%20CACHE%20INVALIDATION%20%26%20REFRESH%20%3D%3D%3D%0AAPI%20Server%20-%3E%20Redis%20Cache%3A%2045.%20DELETE%20%22top_10_scores%22%0AAPI%20Server%20-%3E%20Database%3A%2046.%20SELECT%20TOP%2010%20*%20FROM%20users%20ORDER%20BY%20score%20DESC%0ADatabase%20-%3E%20API%20Server%3A%2047.%20Return%20updated%20top%2010%20leaderboard%0AAPI%20Server%20-%3E%20Redis%20Cache%3A%2048.%20SET%20%22top_10_scores%22%20with%20new%20data%0A%0A%23%20%3D%3D%3D%20PHASE%208%3A%20RESPONSE%20TO%20USER%20%3D%3D%3D%0AAPI%20Server%20-%3E%20Frontend%3A%2049.%20HTTP%20200%20%7Bsuccess%3A%20true%2C%20new_score%2C%20new_rank%7D%0AFrontend%20-%3E%20User%3A%2050.%20Show%20success%20notification%20%22Score%20updated!%22%0A%0A%23%20%3D%3D%3D%20PHASE%209%3A%20LIVE%20BROADCAST%20%3D%3D%3D%0AAPI%20Server%20-%3E%20WebSocket%20Server%3A%2051.%20POST%20%2Fbroadcast%2Fscore-update%0Anote%20right%20of%20API%20Server%3A%20Broadcast%20data%3A%5Cn%7Btype%3A%20%22score_update%22%2C%5Cntop_10%3A%20%5B...%5D%2C%5Cnupdated_user%3A%20%7Bid%2C%20username%2C%20score%7D%7D%0AWebSocket%20Server%20-%3E%20Frontend%3A%2052.%20Emit%20%22score_update%22%20to%20original%20user%0AWebSocket%20Server%20-%3E%20Other%20Users%3A%2053.%20Emit%20%22score_update%22%20to%20all%20connected%20users%0AFrontend%20-%3E%20User%3A%2054.%20Update%20scoreboard%20with%20smooth%20animation%0AOther%20Users%20-%3E%20Other%20Users%3A%2055.%20Update%20their%20scoreboards%20in%20real-time%0A%0A%23%20%3D%3D%3D%20ERROR%20HANDLING%20FLOWS%20%3D%3D%3D%0Aalt%20Invalid%20JWT%20Token%0A%20%20%20%20Auth%20Service%20-%3E%20API%20Server%3A%20401%20Invalid%20token%0A%20%20%20%20API%20Server%20-%3E%20Frontend%3A%20HTTP%20401%20Unauthorized%0A%20%20%20%20Frontend%20-%3E%20User%3A%20Redirect%20to%20login%20page%0Aend%0A%0Aalt%20Action%20Validation%20Fails%0A%20%20%20%20API%20Server%20-%3E%20API%20Server%3A%20Validation%20failed%0A%20%20%20%20API%20Server%20-%3E%20Frontend%3A%20HTTP%20400%20%7Berror%3A%20%22Invalid%20action%20proof%22%7D%0A%20%20%20%20Frontend%20-%3E%20User%3A%20Show%20error%20%22Action%20could%20not%20be%20verified%22%0Aend%0A%0Aalt%20Rate%20Limit%20Exceeded%0A%20%20%20%20API%20Server%20-%3E%20API%20Server%3A%20Rate%20limit%20check%20failed%0A%20%20%20%20API%20Server%20-%3E%20Frontend%3A%20HTTP%20429%20Too%20Many%20Requests%0A%20%20%20%20Frontend%20-%3E%20User%3A%20Show%20%22Please%20wait%2060s%20before%20next%20action%22%0Aend%0A%0Aalt%20Database%20Transaction%20Fails%0A%20%20%20%20Database%20-%3E%20API%20Server%3A%20Transaction%20rollback%0A%20%20%20%20API%20Server%20-%3E%20Frontend%3A%20HTTP%20500%20Internal%20Server%20Error%0A%20%20%20%20Frontend%20-%3E%20User%3A%20Show%20%22Something%20went%20wrong%2C%20try%20again%22%0Aend%0A%0Aalt%20WebSocket%20Connection%20Lost%0A%20%20%20%20WebSocket%20Server%20-%3E%20Frontend%3A%20Disconnect%20event%0A%20%20%20%20Frontend%20-%3E%20Frontend%3A%20Set%20status%20%3D%20%22Disconnected%22%0A%20%20%20%20Frontend%20-%3E%20User%3A%20Show%20%22%F0%9F%94%B4%20Disconnected%22%20%2B%20retry%20button%0A%20%20%20%20Frontend%20-%3E%20WebSocket%20Server%3A%20Attempt%20reconnection%0Aend%0A%0Aalt%20Concurrent%20Score%20Updates%0A%20%20%20%20Database%20-%3E%20API%20Server%3A%20Optimistic%20locking%20conflict%0A%20%20%20%20API%20Server%20-%3E%20API%20Server%3A%20Retry%20transaction%20with%20fresh%20data%0A%20%20%20%20API%20Server%20-%3E%20Database%3A%20UPDATE%20with%20current%20score%20value%0A%20%20%20%20Database%20-%3E%20API%20Server%3A%20Success%20on%20retry%0Aend%0A%0A%23%20%3D%3D%3D%20ADDITIONAL%20SECURITY%20SCENARIOS%20%3D%3D%3D%0Aalt%20Malicious%20Action%20Proof%0A%20%20%20%20API%20Server%20-%3E%20API%20Server%3A%20Invalid%20signature%20detected%0A%20%20%20%20API%20Server%20-%3E%20Database%3A%20LOG%20security_incidents%20(user_id%2C%20action%2C%20timestamp)%0A%20%20%20%20API%20Server%20-%3E%20Frontend%3A%20HTTP%20403%20Forbidden%0A%20%20%20%20Frontend%20-%3E%20User%3A%20Account%20flagged%20for%20review%0Aend%0A%0Aalt%20Replay%20Attack%20Detected%0A%20%20%20%20API%20Server%20-%3E%20Database%3A%20CHECK%20action_history%20for%20duplicate%0A%20%20%20%20Database%20-%3E%20API%20Server%3A%20Duplicate%20action%20found%0A%20%20%20%20API%20Server%20-%3E%20Frontend%3A%20HTTP%20409%20Conflict%20%22Action%20already%20processed%22%0A%20%20%20%20Frontend%20-%3E%20User%3A%20Show%20%22This%20action%20was%20already%20completed%22%0Aend%0A%0Aalt%20Score%20Manipulation%20Attempt%0A%20%20%20%20API%20Server%20-%3E%20API%20Server%3A%20Score%20increment%20too%20high%20for%20action%0A%20%20%20%20API%20Server%20-%3E%20Database%3A%20LOG%20suspicious_activity%0A%20%20%20%20API%20Server%20-%3E%20Frontend%3A%20HTTP%20422%20Unprocessable%20Entity%0A%20%20%20%20Frontend%20-%3E%20User%3A%20Show%20%22Invalid%20action%20data%22%0Aend</desc><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="2420" height="5873"/></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 79.1629083 103.10369087072726 L 79.1629083 5873.200118070731" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 437.32680958444007 103.10369087072726 L 437.32680958444007 5873.200118070731" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 762.1192661667317 103.10369087072726 L 762.1192661667317 5873.200118070731" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1066.5322977001952 103.10369087072726 L 1066.5322977001952 5873.200118070731" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1553.6940474953774 103.10369087072726 L 1553.6940474953774 5873.200118070731" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1701.8149294397056 103.10369087072726 L 1701.8149294397056 5873.200118070731" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1947.5953848195234 103.10369087072726 L 1947.5953848195234 5873.200118070731" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2122.9407631961185 103.10369087072726 L 2122.9407631961185 5873.200118070731" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 44.59983833740625 55.60594589072727 L 113.72597826259374 55.60594589072727 L 113.72597826259374 103.10369087072726 L 44.59983833740625 103.10369087072726 L 44.59983833740625 55.60594589072727 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="63.68689511640625" y="85.51193347072726" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">User</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 388.9018926980182 55.60594589072727 L 485.7517264708619 55.60594589072727 L 485.7517264708619 103.10369087072726 L 388.9018926980182 103.10369087072726 L 388.9018926980182 55.60594589072727 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="407.9889494770182" y="85.51193347072726" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Frontend</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 701.4753246221067 55.60594589072727 L 822.7632077113567 55.60594589072727 L 822.7632077113567 103.10369087072726 L 701.4753246221067 103.10369087072726 L 701.4753246221067 55.60594589072727 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="720.5623814011067" y="85.51193347072726" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Auth Service</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1012.0050324861365 55.60594589072727 L 1121.0595629142538 55.60594589072727 L 1121.0595629142538 103.10369087072726 L 1012.0050324861365 103.10369087072726 L 1012.0050324861365 55.60594589072727 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1031.0920892651366" y="85.51193347072726" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">API Server</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1503.2290457700883 55.60594589072727 L 1604.1590492206665 55.60594589072727 L 1604.1590492206665 103.10369087072726 L 1503.2290457700883 103.10369087072726 L 1503.2290457700883 55.60594589072727 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1522.3161025490883" y="85.51193347072726" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Database</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1621.7508066206665 55.60594589072727 L 1781.8790522587447 55.60594589072727 L 1781.8790522587447 103.10369087072726 L 1621.7508066206665 103.10369087072726 L 1621.7508066206665 55.60594589072727 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1640.8378633996665" y="85.51193347072726" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">WebSocket Server</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1886.5434156259726 55.60594589072727 L 2008.6473540130742 55.60594589072727 L 2008.6473540130742 103.10369087072726 L 1886.5434156259726 103.10369087072726 L 1886.5434156259726 55.60594589072727 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1905.6304724049726" y="85.51193347072726" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Redis Cache</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 2064.3440552330367 55.60594589072727 L 2181.537471159201 55.60594589072727 L 2181.537471159201 103.10369087072726 L 2064.3440552330367 103.10369087072726 L 2064.3440552330367 55.60594589072727 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2083.4311120120365" y="85.51193347072726" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Other Users</text></g></g><g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="16pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1013.213249206543" y="26.547561167272725" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Live Scoreboard System - Complete Flow</text></g><g><rect fill="white" stroke="none" x="183.4872904005794" y="138.28720567072727" width="149.51513708328125" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="186.12605401057942" y="154.1197873307273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">1. Navigate to website</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 79.1629083 161.15649029072728 L 422.84292932510675 161.15649029072728" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(437.32680958444007,161.15649029072728) translate(-437.32680958444007,-161.15649029072728)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 422.6670117511067 153.8265913740606 L 437.32680958444007 161.15649029072728 L 422.6670117511067 168.48638920739396 Z"/></g></g><g><rect fill="white" stroke="none" x="193.254647273138" y="187.54412639072726" width="129.98042333816406" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="195.89341088313802" y="203.37670805072727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">2. Show login page</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 437.32680958444007 210.41341101072726 L 93.64678855933333 210.41341101072726" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(79.1629083,210.41341101072726) translate(-79.1629083,-210.41341101072726)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 93.82270613333333 203.08351209406058 L 79.1629083 210.41341101072726 L 93.82270613333333 217.74330992739394 Z"/></g></g><g><rect fill="white" stroke="none" x="117.4959268751888" y="236.80104711072724" width="281.4978641340625" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="120.1346904851888" y="252.63362877072726" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">3. Enter credentials (username, password)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 79.1629083 259.67033173072724 L 422.84292932510675 259.67033173072724" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(437.32680958444007,259.67033173072724) translate(-437.32680958444007,-259.67033173072724)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 422.6670117511067 252.34043281406056 L 437.32680958444007 259.67033173072724 L 422.6670117511067 267.0002306473939 Z"/></g></g><g><rect fill="white" stroke="none" x="458.14372250777336" y="286.05796783072725" width="283.158630735625" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="460.7824861177734" y="301.89054949072727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">4. POST /auth/login {username, password}</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 437.32680958444007 308.9272524507272 L 747.6353859073984 308.9272524507272" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(762.1192661667317,308.9272524507272) translate(-762.1192661667317,-308.9272524507272)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 747.4594683333984 301.5973535340606 L 762.1192661667317 308.9272524507272 L 747.4594683333984 316.2571513673939 Z"/></g></g><g><rect fill="white" stroke="none" x="1025.926477815781" y="335.31488855072723" width="263.9603580305469" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1028.565241425781" y="351.14747021072725" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">5. SELECT user WHERE username = ?</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 762.1192661667317 358.1841731707272 L 1539.210167236044 358.1841731707272" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1553.6940474953774,358.1841731707272) translate(-1553.6940474953774,-358.1841731707272)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1539.034249662044 350.85427425406056 L 1553.6940474953774 358.1841731707272 L 1539.034249662044 365.51407208739386 Z"/></g></g><g><rect fill="white" stroke="none" x="1034.8634971639256" y="384.5718092707272" width="246.0863193342578" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1037.5022607739256" y="400.40439093072723" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">6. Return user data + password hash</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1553.6940474953774 407.4410938907272 L 776.603146426065 407.4410938907272" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(762.1192661667317,407.4410938907272) translate(-762.1192661667317,-407.4410938907272)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 776.779064000065 400.11119497406054 L 762.1192661667317 407.4410938907272 L 776.779064000065 414.77099280739384 Z"/></g></g><g><rect fill="white" stroke="none" x="782.936179090065" y="433.8287299907272" width="208.17649877761718" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="785.574942700065" y="449.6613116507272" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">7. Verify password using bcrypt</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 762.1192661667317 456.6980146107272 L 832.4862957667317 456.6980146107272 L 832.4862957667317 479.5672992307272 L 776.603146426065 479.5672992307272" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(762.1192661667317,479.5672992307272) translate(-762.1192661667317,-479.5672992307272)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 776.779064000065 472.23740031406055 L 762.1192661667317 479.5672992307272 L 776.779064000065 486.89719814739385 Z"/></g></g><g><rect fill="white" stroke="none" x="1053.7718528768162" y="505.9549353307272" width="208.26960790847656" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1056.4106164868163" y="521.7875169907272" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">8. UPDATE last_login = NOW()</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 762.1192661667317 528.8242199507272 L 1539.210167236044 528.8242199507272" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1553.6940474953774,528.8242199507272) translate(-1553.6940474953774,-528.8242199507272)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1539.034249662044 521.4943210340605 L 1553.6940474953774 528.8242199507272 L 1539.034249662044 536.1541188673939 Z"/></g></g><g><rect fill="white" stroke="none" x="1064.806215669785" y="555.2118560507272" width="186.20088232253906" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1067.444979279785" y="571.0444377107272" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">9. Login timestamp updated</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1553.6940474953774 578.0811406707272 L 776.603146426065 578.0811406707272" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(762.1192661667317,578.0811406707272) translate(-762.1192661667317,-578.0811406707272)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 776.779064000065 570.7512417540605 L 762.1192661667317 578.0811406707272 L 776.779064000065 585.4110395873939 Z"/></g></g><g><rect fill="white" stroke="none" x="481.17880246382805" y="604.4687767707272" width="237.08847082351562" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="483.81756607382806" y="620.3013584307272" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">10. Return JWT token + user profile</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 762.1192661667317 627.3380613907273 L 451.8106898437734 627.3380613907273" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(437.32680958444007,627.3380613907273) translate(-437.32680958444007,-627.3380613907273)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 451.9866074177734 620.0081624740606 L 437.32680958444007 627.3380613907273 L 451.9866074177734 634.667960307394 Z"/></g></g><g><rect fill="white" stroke="none" x="458.1437225077734" y="653.7256974907273" width="198.93528784011718" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="460.78248611777343" y="669.5582791507272" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">11. Store JWT in localStorage</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 437.32680958444007 676.5949821107272 L 507.6938391844401 676.5949821107272 L 507.6938391844401 699.4642667307272 L 451.8106898437734 699.4642667307272" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(437.32680958444007,699.4642667307272) translate(-437.32680958444007,-699.4642667307272)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 451.9866074177734 692.1343678140605 L 437.32680958444007 699.4642667307272 L 451.9866074177734 706.7941656473939 Z"/></g></g><g><rect fill="white" stroke="none" x="171.2575235548763" y="725.8519028307272" width="173.9746707746875" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="173.8962871648763" y="741.6844844907272" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">12. Redirect to dashboard</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 437.32680958444007 748.7211874507273 L 93.64678855933333 748.7211874507273" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(79.1629083,748.7211874507273) translate(-79.1629083,-748.7211874507273)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 93.82270613333333 741.3912885340605 L 79.1629083 748.7211874507273 L 93.82270613333333 756.051086367394 Z"/></g></g><g><rect fill="white" stroke="none" x="576.5600084771419" y="775.1088235507273" width="350.7390445539844" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="579.1987720871418" y="790.9414052107272" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">13. GET /api/scoreboard (Authorization: Bearer JWT)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 437.32680958444007 797.9781081707273 L 1052.0484174408618 797.9781081707273" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1066.5322977001952,797.9781081707273) translate(-1066.5322977001952,-797.9781081707273)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1051.8724998668617 790.6482092540606 L 1066.5322977001952 797.9781081707273 L 1051.8724998668617 805.308007087394 Z"/></g></g><g><rect fill="white" stroke="none" x="836.4472417121353" y="824.3657442707273" width="155.75708044265625" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="839.0860053221353" y="840.1983259307273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">14. Validate JWT token</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1066.5322977001952 847.2350288907273 L 776.603146426065 847.2350288907273" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(762.1192661667317,847.2350288907273) translate(-762.1192661667317,-847.2350288907273)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 776.779064000065 839.9051299740606 L 762.1192661667317 847.2350288907273 L 776.779064000065 854.564927807394 Z"/></g></g><g><rect fill="white" stroke="none" x="817.3706654792252" y="873.6226649907273" width="193.91023290847656" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="820.0094290892251" y="889.4552466507273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">15. Token valid + user claims</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 762.1192661667317 896.4919496107274 L 1052.0484174408618 896.4919496107274" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1066.5322977001952,896.4919496107274) translate(-1066.5322977001952,-896.4919496107274)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1051.8724998668617 889.1620506940607 L 1066.5322977001952 896.4919496107274 L 1051.8724998668617 903.8218485273941 Z"/></g></g><g><rect fill="white" stroke="none" x="1421.8051969735895" y="922.8795857107274" width="170.51728857253906" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1424.4439605835896" y="938.7121673707273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">16. GET "top_10_scores"</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1066.5322977001952 945.7488703307274 L 1933.11150456019 945.7488703307274" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1947.5953848195234,945.7488703307274) translate(-1947.5953848195234,-945.7488703307274)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1932.93558698619 938.4189714140607 L 1947.5953848195234 945.7488703307274 L 1932.93558698619 953.0787692473941 Z"/></g></g><g><rect fill="white" stroke="none" x="1398.0937025277888" y="972.1365064307274" width="217.94027746414062" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1400.7324661377888" y="987.9690880907274" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">17. Cache miss (or expired data)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1947.5953848195234 995.0057910507275 L 1081.0161779595285 995.0057910507275" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1066.5322977001952,995.0057910507275) translate(-1066.5322977001952,-995.0057910507275)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1081.1920955335286 987.6758921340607 L 1066.5322977001952 995.0057910507275 L 1081.1920955335286 1002.3356899673942 Z"/></g></g><g><rect fill="white" stroke="none" x="1108.4193095004814" y="1021.3934271507273" width="403.3877261946094" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1111.0580731104815" y="1037.2260088107273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">18. SELECT TOP 10 * FROM users ORDER BY score DESC</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1066.5322977001952 1044.2627117707275 L 1539.210167236044 1044.2627117707275" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1553.6940474953774,1044.2627117707275) translate(-1553.6940474953774,-1044.2627117707275)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1539.034249662044 1036.9328128540608 L 1553.6940474953774 1044.2627117707275 L 1539.034249662044 1051.5926106873942 Z"/></g></g><g><rect fill="white" stroke="none" x="1159.5682352817314" y="1070.6503478707275" width="301.0898746321094" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1162.2069988917315" y="1086.4829295307275" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">19. Return top 10 users {id, username, score}</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1553.6940474953774 1093.5196324907274 L 1081.0161779595285 1093.5196324907274" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1066.5322977001952,1093.5196324907274) translate(-1066.5322977001952,-1093.5196324907274)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1081.1920955335286 1086.1897335740607 L 1066.5322977001952 1093.5196324907274 L 1081.1920955335286 1100.8495314073941 Z"/></g></g><g><rect fill="white" stroke="none" x="1361.1037199228083" y="1119.9072685907274" width="291.9202274153125" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1363.7424835328084" y="1135.7398502507274" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">20. SET "top_10_scores" (TTL: 60 seconds)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1066.5322977001952 1142.7765532107273 L 1933.11150456019 1142.7765532107273" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1947.5953848195234,1142.7765532107273) translate(-1947.5953848195234,-1142.7765532107273)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1932.93558698619 1135.4466542940606 L 1947.5953848195234 1142.7765532107273 L 1932.93558698619 1150.106452127394 Z"/></g></g><g><rect fill="white" stroke="none" x="584.6845430840755" y="1169.1641893107274" width="334.4900516340625" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="587.3233066940754" y="1184.9967709707273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">21. Return {top10: [...], userScore: X, userRank: Y}</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1066.5322977001952 1192.0334739307273 L 451.8106898437734 1192.0334739307273" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(437.32680958444007,1192.0334739307273) translate(-437.32680958444007,-1192.0334739307273)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 451.9866074177734 1184.7035750140606 L 437.32680958444007 1192.0334739307273 L 451.9866074177734 1199.363372847394 Z"/></g></g><g><rect fill="white" stroke="none" x="153.33699895770832" y="1218.4211100307273" width="209.81571996902343" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="155.97576256770833" y="1234.2536916907272" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">22. Display current leaderboard</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 437.32680958444007 1241.2903946507272 L 93.64678855933333 1241.2903946507272" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(79.1629083,1241.2903946507272) translate(-79.1629083,-1241.2903946507272)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 93.82270613333333 1233.9604957340605 L 79.1629083 1241.2903946507272 L 93.82270613333333 1248.620293567394 Z"/></g></g><g><rect fill="white" stroke="none" x="958.9686430724831" y="1267.6780307507272" width="221.20445287917968" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="961.6074066824831" y="1283.5106124107272" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">23. Connect with JWT in headers</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 437.32680958444007 1290.5473153707271 L 1687.3310491803722 1290.5473153707271" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1701.8149294397056,1290.5473153707271) translate(-1701.8149294397056,-1290.5473153707271)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1687.1551316063722 1283.2174164540604 L 1701.8149294397056 1290.5473153707271 L 1687.1551316063722 1297.8772142873938 Z"/></g></g><g><rect fill="white" stroke="none" x="1154.0885575818904" y="1316.9349514707271" width="155.75708044265625" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1156.7273211918905" y="1332.767533130727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">24. Validate JWT token</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1701.8149294397056 1339.804236090727 L 776.603146426065 1339.804236090727" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(762.1192661667317,1339.804236090727) translate(-762.1192661667317,-1339.804236090727)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 776.779064000065 1332.4743371740603 L 762.1192661667317 1339.804236090727 L 776.779064000065 1347.1341350073938 Z"/></g></g><g><rect fill="white" stroke="none" x="1148.0363114881404" y="1366.191872190727" width="167.86157263015625" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1150.6750750981405" y="1382.024453850727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">25. Token valid + user_id</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 762.1192661667317 1389.061156810727 L 1687.3310491803722 1389.061156810727" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1701.8149294397056,1389.061156810727) translate(-1701.8149294397056,-1389.061156810727)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1687.1551316063722 1381.7312578940603 L 1701.8149294397056 1389.061156810727 L 1687.1551316063722 1396.3910557273937 Z"/></g></g><g><rect fill="white" stroke="none" x="1722.631842363039" y="1415.448792910727" width="218.80642736648437" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1725.270605973039" y="1431.281374570727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">26. Add user to connections pool</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1701.8149294397056 1438.3180775307271 L 1772.1819590397056 1438.3180775307271 L 1772.1819590397056 1461.187362150727 L 1716.2988096990389 1461.187362150727" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1701.8149294397056,1461.187362150727) translate(-1701.8149294397056,-1461.187362150727)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1716.474727273039 1453.8574632340603 L 1701.8149294397056 1461.187362150727 L 1716.474727273039 1468.5172610673937 Z"/></g></g><g><rect fill="white" stroke="none" x="958.5355833801003" y="1487.574998250727" width="222.0705722639453" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="961.1743469901003" y="1503.407579910727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">27. Connection established event</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1701.8149294397056 1510.444282870727 L 451.8106898437734 1510.444282870727" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(437.32680958444007,1510.444282870727) translate(-437.32680958444007,-1510.444282870727)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 451.9866074177734 1503.1143839540603 L 437.32680958444007 1510.444282870727 L 451.9866074177734 1517.7741817873937 Z"/></g></g><g><rect fill="white" stroke="none" x="458.1437225077734" y="1536.831918970727" width="223.91023290847656" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="460.78248611777343" y="1552.664500630727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">28. Set connection status = "Live"</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 437.32680958444007 1559.7012035907271 L 507.6938391844401 1559.7012035907271 L 507.6938391844401 1582.570488210727 L 451.8106898437734 1582.570488210727" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(437.32680958444007,1582.570488210727) translate(-437.32680958444007,-1582.570488210727)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 451.9866074177734 1575.2405892940603 L 437.32680958444007 1582.570488210727 L 451.9866074177734 1589.9003871273937 Z"/></g></g><g><rect fill="white" stroke="none" x="163.57820989520832" y="1608.958124310727" width="189.33329809402343" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="166.21697350520833" y="1624.790705970727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">29. Show "🟢 Live" indicator</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 437.32680958444007 1631.827408930727 L 93.64678855933333 1631.827408930727" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(79.1629083,1631.827408930727) translate(-79.1629083,-1631.827408930727)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 93.82270613333333 1624.4975100140603 L 79.1629083 1631.827408930727 L 93.82270613333333 1639.1573078473937 Z"/></g></g><g><rect fill="white" stroke="none" x="99.97982122333333" y="1658.215045030727" width="316.5300906965625" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="102.61858483333333" y="1674.047626690727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">30. Perform action (complete game/task/puzzle)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 79.1629083 1681.0843296507269 L 422.84292932510675 1681.0843296507269" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(437.32680958444007,1681.0843296507269) translate(-437.32680958444007,-1681.0843296507269)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 422.6670117511067 1673.7544307340602 L 437.32680958444007 1681.0843296507269 L 422.6670117511067 1688.4142285673936 Z"/></g></g><g><rect fill="white" stroke="none" x="458.1437225077734" y="1707.471965750727" width="244.0748447248828" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="460.78248611777343" y="1723.3045474107269" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">31. Local validation &amp; generate proof</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 437.32680958444007 1730.341250370727 L 507.6938391844401 1730.341250370727 L 507.6938391844401 1753.210534990727 L 451.8106898437734 1753.210534990727" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(437.32680958444007,1753.210534990727) translate(-437.32680958444007,-1753.210534990727)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 451.9866074177734 1745.8806360740602 L 437.32680958444007 1753.210534990727 L 451.9866074177734 1760.5404339073937 Z"/></g></g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 437.32680958444007 1843.8080856007268 L 446.1226882844401 1843.8080856007268" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 446.1226882844401 1779.598171090727 L 620.5276334235417 1779.598171090727 L 636.3602150835417 1795.430752750727 L 636.3602150835417 1908.018000110727 L 446.1226882844401 1908.018000110727 Z" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 620.5276334235417 1779.598171090727 L 620.5276334235417 1795.430752750727 L 636.3602150835417 1795.430752750727" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="470.75114864444004" y="1804.2266314507267" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Action proof contains:</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="470.75114864444004" y="1821.8183888507267" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">- Action type</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="470.75114864444004" y="1839.4101462507267" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">- Timestamp</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="470.75114864444004" y="1857.0019036507267" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">- Action data</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="470.75114864444004" y="1874.5936610507267" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">- Client signature</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="470.75114864444004" y="1892.1854184507267" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">- Expected points</text></g><g><rect fill="white" stroke="none" x="573.6788134087825" y="1934.405636210727" width="356.5014652082813" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="576.3175770187825" y="1950.2382178707269" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">32. POST /api/score/update {action_proof, timestamp}</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 437.32680958444007 1957.2749208307268 L 1052.0484174408618 1957.2749208307268" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1066.5322977001952,1957.2749208307268) translate(-1066.5322977001952,-1957.2749208307268)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1051.8724998668617 1949.9450219140601 L 1066.5322977001952 1957.2749208307268 L 1051.8724998668617 1964.6048197473935 Z"/></g></g><g><rect fill="white" stroke="none" x="836.4472417121353" y="1983.6625569307269" width="155.75708044265625" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="839.0860053221353" y="1999.4951385907268" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">33. Validate JWT token</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1066.5322977001952 2006.5318415507268 L 776.603146426065 2006.5318415507268" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(762.1192661667317,2006.5318415507268) translate(-762.1192661667317,-2006.5318415507268)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 776.779064000065 1999.20194263406 L 762.1192661667317 2006.5318415507268 L 776.779064000065 2013.8617404673935 Z"/></g></g><g><rect fill="white" stroke="none" x="782.936179090065" y="2032.9194776507265" width="262.7792056867969" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="785.574942700065" y="2048.7520593107265" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">34. Token valid + user_id + permissions</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 762.1192661667317 2055.7887622707267 L 1052.0484174408618 2055.7887622707267" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1066.5322977001952,2055.7887622707267) translate(-1066.5322977001952,-2055.7887622707267)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1051.8724998668617 2048.45886335406 L 1066.5322977001952 2055.7887622707267 L 1051.8724998668617 2063.118661187393 Z"/></g></g><g><rect fill="white" stroke="none" x="1087.3492106235285" y="2082.176398370727" width="162.30680883621093" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1089.9879742335286" y="2098.008980030727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">35. Validate action proof</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1066.5322977001952 2105.0456829907266 L 1136.8993273001952 2105.0456829907266 L 1136.8993273001952 2127.9149676107268 L 1081.0161779595285 2127.9149676107268" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1066.5322977001952,2127.9149676107268) translate(-1066.5322977001952,-2127.9149676107268)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1081.1920955335286 2120.5850686940603 L 1066.5322977001952 2127.9149676107268 L 1081.1920955335286 2135.2448665273932 Z"/></g></g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1066.5322977001952 2218.5125182207266 L 1075.3281764001952 2218.5125182207266" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1075.3281764001952 2154.3026037107265 L 1303.3336769592186 2154.3026037107265 L 1319.1662586192185 2170.1351853707265 L 1319.1662586192185 2282.7224327307267 L 1075.3281764001952 2282.7224327307267 Z" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1303.3336769592186 2154.3026037107265 L 1303.3336769592186 2170.1351853707265 L 1319.1662586192185 2170.1351853707265" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1099.9566367601951" y="2178.9310640707267" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Validation checks:</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1099.9566367601951" y="2196.5228214707267" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">- Timestamp freshness (&lt;30s)</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1099.9566367601951" y="2214.1145788707267" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">- Action signature valid</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1099.9566367601951" y="2231.7063362707268" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">- Rate limiting</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1099.9566367601951" y="2249.2980936707268" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">- No duplicate actions</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1099.9566367601951" y="2266.8898510707268" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">- Score increment reasonable</text></g><g><rect fill="white" stroke="none" x="1157.5603770053642" y="2309.1100688307265" width="305.1055911848438" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1160.1991406153643" y="2324.9426504907265" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">36. SELECT user permissions &amp; current score</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1066.5322977001952 2331.9793534507266 L 1539.210167236044 2331.9793534507266" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1553.6940474953774,2331.9793534507266) translate(-1553.6940474953774,-2331.9793534507266)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1539.034249662044 2324.64945453406 L 1553.6940474953774 2331.9793534507266 L 1539.034249662044 2339.309252367393 Z"/></g></g><g><rect fill="white" stroke="none" x="1162.8359583652275" y="2358.3669895507264" width="294.5544437239063" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1165.4747219752276" y="2374.1995712107264" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">37. Return user data {id, score, permissions}</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1553.6940474953774 2381.2362741707266 L 1081.0161779595285 2381.2362741707266" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1066.5322977001952,2381.2362741707266) translate(-1066.5322977001952,-2381.2362741707266)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1081.1920955335286 2373.90637525406 L 1066.5322977001952 2381.2362741707266 L 1081.1920955335286 2388.566173087393 Z"/></g></g><g><rect fill="white" stroke="none" x="1087.3492106235285" y="2407.623910270727" width="217.13139379714843" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1089.9879742335286" y="2423.4564919307268" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">38. Final security checks passed</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1066.5322977001952 2430.4931948907265 L 1136.8993273001952 2430.4931948907265 L 1136.8993273001952 2453.3624795107266 L 1081.0161779595285 2453.3624795107266" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1066.5322977001952,2453.3624795107266) translate(-1066.5322977001952,-2453.3624795107266)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1081.1920955335286 2446.03258059406 L 1066.5322977001952 2453.3624795107266 L 1081.1920955335286 2460.692378427393 Z"/></g></g><g><rect fill="white" stroke="none" x="1217.8681010043877" y="2479.7501156107264" width="184.49014318679687" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1220.5068646143877" y="2495.5826972707264" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">39. BEGIN TRANSACTION</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1066.5322977001952 2502.6194002307266 L 1539.210167236044 2502.6194002307266" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1553.6940474953774,2502.6194002307266) translate(-1553.6940474953774,-2502.6194002307266)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1539.034249662044 2495.28950131406 L 1553.6940474953774 2502.6194002307266 L 1539.034249662044 2509.949299147393 Z"/></g></g><g><rect fill="white" stroke="none" x="1121.6441096103447" y="2529.0070363307264" width="376.9381107160938" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1124.2828732203448" y="2544.8396179907263" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">40. UPDATE users SET score = score + ? WHERE id = ?</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1066.5322977001952 2551.8763209507265 L 1539.210167236044 2551.8763209507265" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1553.6940474953774,2551.8763209507265) translate(-1553.6940474953774,-2551.8763209507265)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1539.034249662044 2544.54642203406 L 1553.6940474953774 2551.8763209507265 L 1539.034249662044 2559.206219867393 Z"/></g></g><g><rect fill="white" stroke="none" x="1087.3492106235283" y="2578.2639570507263" width="445.5279544660938" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1089.9879742335283" y="2594.0965387107262" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">41. INSERT INTO score_history (user_id, action, points, timestamp)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1066.5322977001952 2601.1332416707264 L 1539.210167236044 2601.1332416707264" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1553.6940474953774,2601.1332416707264) translate(-1553.6940474953774,-2601.1332416707264)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1539.034249662044 2593.80334275406 L 1553.6940474953774 2601.1332416707264 L 1539.034249662044 2608.463140587393 Z"/></g></g><g><rect fill="white" stroke="none" x="1220.9640711581962" y="2627.520877770726" width="178.29820287917968" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1223.6028347681963" y="2643.353459430726" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">42. Transaction successful</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1553.6940474953774 2650.3901623907263 L 1081.0161779595285 2650.3901623907263" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1066.5322977001952,2650.3901623907263) translate(-1066.5322977001952,-2650.3901623907263)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1081.1920955335286 2643.06026347406 L 1066.5322977001952 2650.3901623907263 L 1081.1920955335286 2657.720061307393 Z"/></g></g><g><rect fill="white" stroke="none" x="1210.9568537509697" y="2676.777798490726" width="198.3126376936328" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1213.5956173609698" y="2692.610380150726" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">43. COMMIT TRANSACTION</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1066.5322977001952 2699.6470831107263 L 1539.210167236044 2699.6470831107263" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1553.6940474953774,2699.6470831107263) translate(-1553.6940474953774,-2699.6470831107263)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1539.034249662044 2692.31718419406 L 1553.6940474953774 2699.6470831107263 L 1539.034249662044 2706.9769820273928 Z"/></g></g><g><rect fill="white" stroke="none" x="1218.2439478671806" y="2726.034719210726" width="183.73844946121093" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1220.8827114771807" y="2741.867300870726" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">44. Return new score value</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1553.6940474953774 2748.904003830726 L 1081.0161779595285 2748.904003830726" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1066.5322977001952,2748.904003830726) translate(-1066.5322977001952,-2748.904003830726)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1081.1920955335286 2741.5741049140597 L 1066.5322977001952 2748.904003830726 L 1081.1920955335286 2756.2339027473927 Z"/></g></g><g><rect fill="white" stroke="none" x="1408.3585340707575" y="2775.291639930726" width="197.41061437820312" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1410.9972976807576" y="2791.124221590726" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">45. DELETE "top_10_scores"</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1066.5322977001952 2798.160924550726 L 1933.11150456019 2798.160924550726" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1947.5953848195234,2798.160924550726) translate(-1947.5953848195234,-2798.160924550726)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1932.93558698619 2790.8310256340596 L 1947.5953848195234 2798.160924550726 L 1932.93558698619 2805.4908234673926 Z"/></g></g><g><rect fill="white" stroke="none" x="1108.4193095004814" y="2824.548560650726" width="403.3877261946094" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1111.0580731104815" y="2840.381142310726" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">46. SELECT TOP 10 * FROM users ORDER BY score DESC</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1066.5322977001952 2847.417845270726 L 1539.210167236044 2847.417845270726" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1553.6940474953774,2847.417845270726) translate(-1553.6940474953774,-2847.417845270726)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1539.034249662044 2840.0879463540596 L 1553.6940474953774 2847.417845270726 L 1539.034249662044 2854.7477441873925 Z"/></g></g><g><rect fill="white" stroke="none" x="1181.139448050286" y="2873.805481370726" width="257.947449095" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1183.7782116602862" y="2889.638063030726" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">47. Return updated top 10 leaderboard</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1553.6940474953774 2896.674765990726 L 1081.0161779595285 2896.674765990726" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1066.5322977001952,2896.674765990726) translate(-1066.5322977001952,-2896.674765990726)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1081.1920955335286 2889.3448670740595 L 1066.5322977001952 2896.674765990726 L 1081.1920955335286 2904.0046649073925 Z"/></g></g><g><rect fill="white" stroke="none" x="1375.7601148813044" y="2923.0624020907258" width="262.6074527571094" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1378.3988784913045" y="2938.8949837507257" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">48. SET "top_10_scores" with new data</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1066.5322977001952 2945.931686710726 L 1933.11150456019 2945.931686710726" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1947.5953848195234,2945.931686710726) translate(-1947.5953848195234,-2945.931686710726)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1932.93558698619 2938.6017877940594 L 1947.5953848195234 2945.931686710726 L 1932.93558698619 2953.2615856273924 Z"/></g></g><g><rect fill="white" stroke="none" x="578.1705812920833" y="2972.3193228107257" width="347.51791418289065" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="580.8093449020832" y="2988.1519044707256" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">49. HTTP 200 {success: true, new_score, new_rank}</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1066.5322977001952 2995.188607430726 L 451.8106898437734 2995.188607430726" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(437.32680958444007,2995.188607430726) translate(-437.32680958444007,-2995.188607430726)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 451.9866074177734 2987.8587085140593 L 437.32680958444007 2995.188607430726 L 451.9866074177734 3002.5185063473923 Z"/></g></g><g><rect fill="white" stroke="none" x="102.49234105975911" y="3021.5762435307256" width="311.5050357649219" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="105.13110466975911" y="3037.4088251907256" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">50. Show success notification "Score updated!"</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 437.32680958444007 3044.4455281507257 L 93.64678855933333 3044.4455281507257" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(79.1629083,3044.4455281507257) translate(-79.1629083,-3044.4455281507257)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 93.82270613333333 3037.1156292340593 L 79.1629083 3044.4455281507257 L 93.82270613333333 3051.7754270673922 Z"/></g></g><g><rect fill="white" stroke="none" x="1268.2671726528213" y="3070.8331642507255" width="231.8128818342578" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1270.9059362628213" y="3086.6657459107255" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">51. POST /broadcast/score-update</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1066.5322977001952 3093.7024488707257 L 1687.3310491803722 3093.7024488707257" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1701.8149294397056,3093.7024488707257) translate(-1701.8149294397056,-3093.7024488707257)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1687.1551316063722 3086.372549954059 L 1701.8149294397056 3093.7024488707257 L 1687.1551316063722 3101.032347787392 Z"/></g></g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1066.5322977001952 3166.7082420807255 L 1075.3281764001952 3166.7082420807255" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1075.3281764001952 3120.0900849707255 L 1349.9907967101951 3120.0900849707255 L 1365.823378370195 3135.9226666307254 L 1365.823378370195 3213.3263991907256 L 1075.3281764001952 3213.3263991907256 Z" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1349.9907967101951 3120.0900849707255 L 1349.9907967101951 3135.9226666307254 L 1365.823378370195 3135.9226666307254" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1099.9566367601951" y="3144.7185453307256" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Broadcast data:</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1099.9566367601951" y="3162.3103027307257" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">{type: "score_update",</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1099.9566367601951" y="3179.9020601307257" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">top_10: [...],</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1099.9566367601951" y="3197.4938175307257" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">updated_user: {id, username, score}}</text></g><g><rect fill="white" stroke="none" x="938.270744207737" y="3239.7140352907254" width="262.6002506086719" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="940.909507817737" y="3255.5466169507254" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">52. Emit "score_update" to original user</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1701.8149294397056 3262.5833199107255 L 451.8106898437734 3262.5833199107255" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(437.32680958444007,3262.5833199107255) translate(-437.32680958444007,-3262.5833199107255)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 451.9866074177734 3255.253420994059 L 437.32680958444007 3262.5833199107255 L 451.9866074177734 3269.913218827392 Z"/></g></g><g><rect fill="white" stroke="none" x="1757.8493808646501" y="3288.9709560107253" width="309.0568851301563" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1760.4881444746502" y="3304.8035376707253" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">53. Emit "score_update" to all connected users</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1701.8149294397056 3311.8402406307255 L 2108.456882936785 3311.8402406307255" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(2122.9407631961185,3311.8402406307255) translate(-2122.9407631961185,-3311.8402406307255)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 2108.280965362785 3304.510341714059 L 2122.9407631961185 3311.8402406307255 L 2108.280965362785 3319.170139547392 Z"/></g></g><g><rect fill="white" stroke="none" x="106.07142736347005" y="3338.2278767307253" width="304.3468631575" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="108.71019097347005" y="3354.060458390725" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">54. Update scoreboard with smooth animation</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 437.32680958444007 3361.0971613507254 L 93.64678855933333 3361.0971613507254" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(79.1629083,3361.0971613507254) translate(-79.1629083,-3361.0971613507254)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 93.82270613333333 3353.767262434059 L 79.1629083 3361.0971613507254 L 93.82270613333333 3368.427060267392 Z"/></g></g><g><rect fill="white" stroke="none" x="2143.757676119452" y="3387.4847974507256" width="270.91806066726565" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2146.3964397294517" y="3403.3173791107256" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">55. Update their scoreboards in real-time</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2122.9407631961185 3410.3540820707253 L 2193.3077927961185 3410.3540820707253 L 2193.3077927961185 3433.2233666907255 L 2137.424643455452 3433.2233666907255" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(2122.9407631961185,3433.2233666907255) translate(-2122.9407631961185,-3433.2233666907255)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 2137.600561029452 3425.893467774059 L 2122.9407631961185 3433.2233666907255 L 2137.600561029452 3440.553265607392 Z"/></g></g><g><rect fill="white" stroke="none" x="856.2647084479752" y="3507.108747770725" width="116.12214697097656" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="858.9034720579751" y="3522.941329430725" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">401 Invalid token</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 762.1192661667317 3529.9780323907253 L 1052.0484174408618 3529.9780323907253" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1066.5322977001952,3529.9780323907253) translate(-1066.5322977001952,-3529.9780323907253)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1051.8724998668617 3522.648133474059 L 1066.5322977001952 3529.9780323907253 L 1051.8724998668617 3537.3079313073918 Z"/></g></g><g><rect fill="white" stroke="none" x="670.2500032891536" y="3556.365668490725" width="163.35910070632812" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="672.8887668991536" y="3572.198250150725" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">HTTP 401 Unauthorized</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1066.5322977001952 3579.234953110725 L 451.8106898437734 3579.234953110725" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(437.32680958444007,3579.234953110725) translate(-437.32680958444007,-3579.234953110725)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 451.9866074177734 3571.9050541940587 L 437.32680958444007 3579.234953110725 L 451.9866074177734 3586.5648520273917 Z"/></g></g><g><rect fill="white" stroke="none" x="184.2961740675716" y="3605.622589210725" width="147.89736974929687" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="186.9349376775716" y="3621.455170870725" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Redirect to login page</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 437.32680958444007 3628.491873830725 L 93.64678855933333 3628.491873830725" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(79.1629083,3628.491873830725) translate(-79.1629083,-3628.491873830725)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 93.82270613333333 3621.1619749140586 L 79.1629083 3628.491873830725 L 93.82270613333333 3635.8217727473916 Z"/></g></g><g><rect fill="white" stroke="none" x="1087.3492106235285" y="3728.764891010725" width="107.70410192703125" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1089.9879742335286" y="3744.597472670725" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Validation failed</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1066.5322977001952 3751.6341756307247 L 1136.8993273001952 3751.6341756307247 L 1136.8993273001952 3774.503460250725 L 1081.0161779595285 3774.503460250725" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1066.5322977001952,3774.503460250725) translate(-1066.5322977001952,-3774.503460250725)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1081.1920955335286 3767.1735613340584 L 1066.5322977001952 3774.503460250725 L 1081.1920955335286 3781.8333591673913 Z"/></g></g><g><rect fill="white" stroke="none" x="622.673076104095" y="3800.8910963507246" width="258.51295507644534" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="625.311839714095" y="3816.7236780107246" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">HTTP 400 {error: "Invalid action proof"}</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1066.5322977001952 3823.760380970725 L 451.8106898437734 3823.760380970725" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(437.32680958444007,3823.760380970725) translate(-437.32680958444007,-3823.760380970725)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 451.9866074177734 3816.4304820540583 L 437.32680958444007 3823.760380970725 L 451.9866074177734 3831.0902798873913 Z"/></g></g><g><rect fill="white" stroke="none" x="124.50379278095052" y="3850.1480170707246" width="267.48211706375" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="127.14255639095052" y="3865.9805987307245" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Show error "Action could not be verified"</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 437.32680958444007 3873.0173016907247 L 93.64678855933333 3873.0173016907247" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(79.1629083,3873.0173016907247) translate(-79.1629083,-3873.0173016907247)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 93.82270613333333 3865.6874027740582 L 79.1629083 3873.0173016907247 L 93.82270613333333 3880.347200607391 Z"/></g></g><g><rect fill="white" stroke="none" x="1087.3492106235285" y="3973.2903188707246" width="147.86157263015625" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1089.9879742335286" y="3989.1229005307246" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Rate limit check failed</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1066.5322977001952 3996.1596034907243 L 1136.8993273001952 3996.1596034907243 L 1136.8993273001952 4019.0288881107244 L 1081.0161779595285 4019.0288881107244" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1066.5322977001952,4019.0288881107244) translate(-1066.5322977001952,-4019.0288881107244)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1081.1920955335286 4011.698989194058 L 1066.5322977001952 4019.0288881107244 L 1081.1920955335286 4026.358787027391 Z"/></g></g><g><rect fill="white" stroke="none" x="649.0688967217708" y="4045.416524210724" width="205.72131384109375" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="651.7076603317707" y="4061.249105870724" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">HTTP 429 Too Many Requests</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1066.5322977001952 4068.2858088307244 L 451.8106898437734 4068.2858088307244" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(437.32680958444007,4068.2858088307244) translate(-437.32680958444007,-4068.2858088307244)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 451.9866074177734 4060.955909914058 L 437.32680958444007 4068.2858088307244 L 451.9866074177734 4075.615707747391 Z"/></g></g><g><rect fill="white" stroke="none" x="118.3835230055599" y="4094.673444930724" width="279.7226566145313" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="121.02228661555989" y="4110.506026590724" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Show "Please wait 60s before next action"</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 437.32680958444007 4117.542729550724 L 93.64678855933333 4117.542729550724" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(79.1629083,4117.542729550724) translate(-79.1629083,-4117.542729550724)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 93.82270613333333 4110.212830634057 L 79.1629083 4117.542729550724 L 93.82270613333333 4124.872628467391 Z"/></g></g><g><rect fill="white" stroke="none" x="1242.1523264682548" y="4217.815746730725" width="135.9216922590625" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1244.791090078255" y="4233.648328390725" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Transaction rollback</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1553.6940474953774 4240.685031350725 L 1081.0161779595285 4240.685031350725" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1066.5322977001952,4240.685031350725) translate(-1066.5322977001952,-4240.685031350725)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1081.1920955335286 4233.355132434058 L 1066.5322977001952 4240.685031350725 L 1081.1920955335286 4248.014930267392 Z"/></g></g><g><rect fill="white" stroke="none" x="647.4511751641536" y="4267.072667450725" width="208.95675695632812" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="650.0899387741536" y="4282.905249110725" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">HTTP 500 Internal Server Error</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1066.5322977001952 4289.941952070725 L 451.8106898437734 4289.941952070725" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(437.32680958444007,4289.941952070725) translate(-437.32680958444007,-4289.941952070725)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 451.9866074177734 4282.612053154058 L 437.32680958444007 4289.941952070725 L 451.9866074177734 4297.271850987392 Z"/></g></g><g><rect fill="white" stroke="none" x="123.2797174635677" y="4316.329588170725" width="269.9302982160938" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="125.9184810735677" y="4332.162169830725" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Show "Something went wrong, try again"</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 437.32680958444007 4339.1988727907255 L 93.64678855933333 4339.1988727907255" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(79.1629083,4339.1988727907255) translate(-79.1629083,-4339.1988727907255)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 93.82270613333333 4331.868973874059 L 79.1629083 4339.1988727907255 L 93.82270613333333 4346.5287717073925 Z"/></g></g><g><rect fill="white" stroke="none" x="1010.7044981750222" y="4439.471889970726" width="117.73274267410156" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1013.3432617850222" y="4455.304471630726" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Disconnect event</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1701.8149294397056 4462.341174590726 L 451.8106898437734 4462.341174590726" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(437.32680958444007,4462.341174590726) translate(-437.32680958444007,-4462.341174590726)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 451.9866074177734 4455.011275674059 L 437.32680958444007 4462.341174590726 L 451.9866074177734 4469.671073507393 Z"/></g></g><g><rect fill="white" stroke="none" x="458.1437225077734" y="4488.728810690725" width="186.4084628889453" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="460.78248611777343" y="4504.561392350725" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Set status = "Disconnected"</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 437.32680958444007 4511.5980953107255 L 507.6938391844401 4511.5980953107255 L 507.6938391844401 4534.467379930726 L 451.8106898437734 4534.467379930726" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(437.32680958444007,4534.467379930726) translate(-437.32680958444007,-4534.467379930726)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 451.9866074177734 4527.137481014059 L 437.32680958444007 4534.467379930726 L 451.9866074177734 4541.797278847393 Z"/></g></g><g><rect fill="white" stroke="none" x="129.15087224872394" y="4560.855016030726" width="258.1879733869922" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="131.78963585872395" y="4576.687597690726" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Show "🔴 Disconnected" + retry button</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 437.32680958444007 4583.724300650726 L 93.64678855933333 4583.724300650726" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(79.1629083,4583.724300650726) translate(-79.1629083,-4583.724300650726)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 93.82270613333333 4576.394401734059 L 79.1629083 4583.724300650726 L 93.82270613333333 4591.054199567393 Z"/></g></g><g><rect fill="white" stroke="none" x="997.6658476623269" y="4610.111936750726" width="143.81004369949218" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1000.3046112723268" y="4625.944518410726" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Attempt reconnection</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 437.32680958444007 4632.981221370726 L 1687.3310491803722 4632.981221370726" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1701.8149294397056,4632.981221370726) translate(-1701.8149294397056,-4632.981221370726)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1687.1551316063722 4625.6513224540595 L 1701.8149294397056 4632.981221370726 L 1687.1551316063722 4640.311120287393 Z"/></g></g><g><rect fill="white" stroke="none" x="1225.599004629876" y="4733.254238550727" width="169.0283359358203" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1228.237768239876" y="4749.086820210727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Optimistic locking conflict</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1553.6940474953774 4756.123523170727 L 1081.0161779595285 4756.123523170727" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1066.5322977001952,4756.123523170727) translate(-1066.5322977001952,-4756.123523170727)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1081.1920955335286 4748.79362425406 L 1066.5322977001952 4756.123523170727 L 1081.1920955335286 4763.453422087394 Z"/></g></g><g><rect fill="white" stroke="none" x="1087.3492106235285" y="4782.511159270726" width="215.49934423660156" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1089.9879742335286" y="4798.343740930726" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Retry transaction with fresh data</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1066.5322977001952 4805.380443890726 L 1136.8993273001952 4805.380443890726 L 1136.8993273001952 4828.2497285107265 L 1081.0161779595285 4828.2497285107265" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1066.5322977001952,4828.2497285107265) translate(-1066.5322977001952,-4828.2497285107265)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1081.1920955335286 4820.91982959406 L 1066.5322977001952 4828.2497285107265 L 1081.1920955335286 4835.5796274273935 Z"/></g></g><g><rect fill="white" stroke="none" x="1198.8416651523369" y="4854.637364610727" width="222.54301489089843" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1201.480428762337" y="4870.469946270727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">UPDATE with current score value</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1066.5322977001952 4877.506649230727 L 1539.210167236044 4877.506649230727" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1553.6940474953774,4877.506649230727) translate(-1553.6940474953774,-4877.506649230727)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1539.034249662044 4870.17675031406 L 1553.6940474953774 4877.506649230727 L 1539.034249662044 4884.836548147394 Z"/></g></g><g><rect fill="white" stroke="none" x="1252.8860377109306" y="4903.894285330727" width="114.45426977371093" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1255.5248013209307" y="4919.726866990727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Success on retry</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1553.6940474953774 4926.763569950727 L 1081.0161779595285 4926.763569950727" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1066.5322977001952,4926.763569950727) translate(-1066.5322977001952,-4926.763569950727)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1081.1920955335286 4919.43367103406 L 1066.5322977001952 4926.763569950727 L 1081.1920955335286 4934.093468867394 Z"/></g></g><g><rect fill="white" stroke="none" x="1087.3492106235285" y="5027.036587130727" width="172.3497470686328" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1089.9879742335286" y="5042.869168790727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Invalid signature detected</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1066.5322977001952 5049.905871750727 L 1136.8993273001952 5049.905871750727 L 1136.8993273001952 5072.775156370727 L 1081.0161779595285 5072.775156370727" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1066.5322977001952,5072.775156370727) translate(-1066.5322977001952,-5072.775156370727)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1081.1920955335286 5065.44525745406 L 1066.5322977001952 5072.775156370727 L 1081.1920955335286 5080.105055287394 Z"/></g></g><g><rect fill="white" stroke="none" x="1139.2246607578056" y="5099.162792470727" width="341.7769779035938" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1141.8634243678057" y="5114.995374130727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">LOG security_incidents (user_id, action, timestamp)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1066.5322977001952 5122.032077090727 L 1539.210167236044 5122.032077090727" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1553.6940474953774,5122.032077090727) translate(-1553.6940474953774,-5122.032077090727)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1539.034249662044 5114.7021781740605 L 1553.6940474953774 5122.032077090727 L 1539.034249662044 5129.361976007394 Z"/></g></g><g><rect fill="white" stroke="none" x="680.8441271294856" y="5148.419713190728" width="142.17085302566406" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="683.4828907394856" y="5164.252294850728" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">HTTP 403 Forbidden</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1066.5322977001952 5171.288997810728 L 451.8106898437734 5171.288997810728" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(437.32680958444007,5171.288997810728) translate(-437.32680958444007,-5171.288997810728)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 451.9866074177734 5163.959098894061 L 437.32680958444007 5171.288997810728 L 451.9866074177734 5178.618896727395 Z"/></g></g><g><rect fill="white" stroke="none" x="169.2281809035091" y="5197.676633910728" width="178.03335607742187" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="171.8669445135091" y="5213.509215570728" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Account flagged for review</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 437.32680958444007 5220.545918530728 L 93.64678855933333 5220.545918530728" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(79.1629083,5220.545918530728) translate(-79.1629083,-5220.545918530728)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 93.82270613333333 5213.216019614061 L 79.1629083 5220.545918530728 L 93.82270613333333 5227.875817447395 Z"/></g></g><g><rect fill="white" stroke="none" x="1192.5854090488212" y="5320.8189357107285" width="235.05552709792968" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1195.2241726588213" y="5336.6515173707285" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">CHECK action_history for duplicate</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1066.5322977001952 5343.688220330729 L 1539.210167236044 5343.688220330729" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1553.6940474953774,5343.688220330729) translate(-1553.6940474953774,-5343.688220330729)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1539.034249662044 5336.358321414062 L 1553.6940474953774 5343.688220330729 L 1539.034249662044 5351.018119247396 Z"/></g></g><g><rect fill="white" stroke="none" x="1234.9404352939384" y="5370.075856430729" width="150.3454746076953" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1237.5791989039385" y="5385.908438090729" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Duplicate action found</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1553.6940474953774 5392.945141050729 L 1081.0161779595285 5392.945141050729" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1066.5322977001952,5392.945141050729) translate(-1066.5322977001952,-5392.945141050729)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1081.1920955335286 5385.615242134062 L 1066.5322977001952 5392.945141050729 L 1081.1920955335286 5400.275039967396 Z"/></g></g><g><rect fill="white" stroke="none" x="599.8634981622005" y="5419.332777150729" width="304.1321109602344" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="602.5022617722004" y="5435.165358810729" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">HTTP 409 Conflict "Action already processed"</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1066.5322977001952 5442.202061770729 L 451.8106898437734 5442.202061770729" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(437.32680958444007,5442.202061770729) translate(-437.32680958444007,-5442.202061770729)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 451.9866074177734 5434.8721628540625 L 437.32680958444007 5442.202061770729 L 451.9866074177734 5449.531960687396 Z"/></g></g><g><rect fill="white" stroke="none" x="117.58180334003255" y="5468.58969787073" width="281.326111204375" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="120.22056695003255" y="5484.42227953073" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Show "This action was already completed"</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 437.32680958444007 5491.45898249073 L 93.64678855933333 5491.45898249073" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(79.1629083,5491.45898249073) translate(-79.1629083,-5491.45898249073)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 93.82270613333333 5484.129083574063 L 79.1629083 5491.45898249073 L 93.82270613333333 5498.788881407397 Z"/></g></g><g><rect fill="white" stroke="none" x="1087.3492106235285" y="5591.731999670729" width="232.62889135574218" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1089.9879742335286" y="5607.564581330729" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Score increment too high for action</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1066.5322977001952 5614.601284290729 L 1136.8993273001952 5614.601284290729 L 1136.8993273001952 5637.4705689107295 L 1081.0161779595285 5637.4705689107295" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1066.5322977001952,5637.4705689107295) translate(-1066.5322977001952,-5637.4705689107295)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1081.1920955335286 5630.140669994063 L 1066.5322977001952 5637.4705689107295 L 1081.1920955335286 5644.8004678273965 Z"/></g></g><g><rect fill="white" stroke="none" x="1229.256833914544" y="5663.85820501073" width="161.71267736648437" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1231.895597524544" y="5679.69078667073" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">LOG suspicious_activity</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1066.5322977001952 5686.72748963073 L 1539.210167236044 5686.72748963073" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1553.6940474953774,5686.72748963073) translate(-1553.6940474953774,-5686.72748963073)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1539.034249662044 5679.397590714063 L 1553.6940474953774 5686.72748963073 L 1539.034249662044 5694.057388547397 Z"/></g></g><g><rect fill="white" stroke="none" x="644.5878862847591" y="5713.11512573073" width="214.68333471511718" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="647.226649894759" y="5728.94770739073" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">HTTP 422 Unprocessable Entity</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1066.5322977001952 5735.98441035073 L 451.8106898437734 5735.98441035073" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(437.32680958444007,5735.98441035073) translate(-437.32680958444007,-5735.98441035073)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 451.9866074177734 5728.654511434063 L 437.32680958444007 5735.98441035073 L 451.9866074177734 5743.314309267397 Z"/></g></g><g><rect fill="white" stroke="none" x="170.9425592604427" y="5762.3720464507305" width="174.60459936355468" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="173.5813228704427" y="5778.2046281107305" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Show "Invalid action data"</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 437.32680958444007 5785.241331070731 L 93.64678855933333 5785.241331070731" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(79.1629083,5785.241331070731) translate(-79.1629083,-5785.241331070731)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 93.82270613333333 5777.911432154064 L 79.1629083 5785.241331070731 L 93.82270613333333 5792.571229987398 Z"/></g></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 17.591757400000006 3459.6110027907253 L 1128.1034486001952 3459.6110027907253 L 1128.1034486001952 3654.879509930725 L 17.591757400000006 3654.879509930725 L 17.591757400000006 3459.6110027907253 Z" stroke-miterlimit="10" stroke-width="2.5131082"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 17.591757400000006 3459.6110027907253 L 17.591757400000006 3480.7211116707253 L 66.46406919707032 3480.7211116707253 L 77.01912363707032 3470.166057230725 L 77.01912363707032 3459.6110027907253 L 17.591757400000006 3459.6110027907253" stroke-miterlimit="10" stroke-width="2.5131082"/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="35.183514800000005" y="3473.684408710725" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">alt</text><g><rect fill="white" stroke="none" x="91.97211742707033" y="3461.018343382725" width="115.20033300613281" height="18.295427696"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="94.61088103707033" y="3473.684408710725" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Invalid JWT Token]</text></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 17.591757400000006 3681.2671460307247 L 1201.2104276405598 3681.2671460307247 L 1201.2104276405598 3899.4049377907245 L 17.591757400000006 3899.4049377907245 L 17.591757400000006 3681.2671460307247 Z" stroke-miterlimit="10" stroke-width="2.5131082"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 17.591757400000006 3681.2671460307247 L 17.591757400000006 3702.377254910725 L 66.46406919707032 3702.377254910725 L 77.01912363707032 3691.8222004707245 L 77.01912363707032 3681.2671460307247 L 17.591757400000006 3681.2671460307247" stroke-miterlimit="10" stroke-width="2.5131082"/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="35.183514800000005" y="3695.3405519507246" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">alt</text><g><rect fill="white" stroke="none" x="91.97211742707033" y="3682.6744866227245" width="138.23643530105468" height="18.295427696"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="94.61088103707033" y="3695.3405519507246" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Action Validation Fails]</text></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 17.591757400000006 3925.7925738907243 L 1241.3678983436848 3925.7925738907243 L 1241.3678983436848 4143.9303656507245 L 17.591757400000006 4143.9303656507245 L 17.591757400000006 3925.7925738907243 Z" stroke-miterlimit="10" stroke-width="2.5131082"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 17.591757400000006 3925.7925738907243 L 17.591757400000006 3946.9026827707244 L 66.46406919707032 3946.9026827707244 L 77.01912363707032 3936.347628330724 L 77.01912363707032 3925.7925738907243 L 17.591757400000006 3925.7925738907243" stroke-miterlimit="10" stroke-width="2.5131082"/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="35.183514800000005" y="3939.865979810724" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">alt</text><g><rect fill="white" stroke="none" x="91.97211742707033" y="3927.199914482724" width="127.82382238601562" height="18.295427696"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="94.61088103707033" y="3939.865979810724" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Rate Limit Exceeded]</text></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 17.591757400000006 4170.318001750725 L 1615.2651983953774 4170.318001750725 L 1615.2651983953774 4365.586508890726 L 17.591757400000006 4365.586508890726 L 17.591757400000006 4170.318001750725 Z" stroke-miterlimit="10" stroke-width="2.5131082"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 17.591757400000006 4170.318001750725 L 17.591757400000006 4191.428110630724 L 66.46406919707032 4191.428110630724 L 77.01912363707032 4180.873056190725 L 77.01912363707032 4170.318001750725 L 17.591757400000006 4170.318001750725" stroke-miterlimit="10" stroke-width="2.5131082"/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="35.183514800000005" y="4184.391407670724" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">alt</text><g><rect fill="white" stroke="none" x="91.97211742707033" y="4171.725342342725" width="164.3425906965625" height="18.295427696"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="94.61088103707033" y="4184.391407670724" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Database Transaction Fails]</text></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 17.591757400000006 4391.974144990726 L 1763.3860803397056 4391.974144990726 L 1763.3860803397056 4659.368857470727 L 17.591757400000006 4659.368857470727 L 17.591757400000006 4391.974144990726 Z" stroke-miterlimit="10" stroke-width="2.5131082"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 17.591757400000006 4391.974144990726 L 17.591757400000006 4413.084253870726 L 66.46406919707032 4413.084253870726 L 77.01912363707032 4402.529199430726 L 77.01912363707032 4391.974144990726 L 17.591757400000006 4391.974144990726" stroke-miterlimit="10" stroke-width="2.5131082"/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="35.183514800000005" y="4406.0475509107255" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">alt</text><g><rect fill="white" stroke="none" x="91.97211742707033" y="4393.381485582726" width="171.89720190261718" height="18.295427696"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="94.61088103707033" y="4406.0475509107255" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[WebSocket Connection Lost]</text></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1004.9611468001951 4685.756493570727 L 1615.2651983953774 4685.756493570727 L 1615.2651983953774 4953.1512060507275 L 1004.9611468001951 4953.1512060507275 L 1004.9611468001951 4685.756493570727 Z" stroke-miterlimit="10" stroke-width="2.5131082"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1004.9611468001951 4685.756493570727 L 1004.9611468001951 4706.8666024507265 L 1053.8334585972655 4706.8666024507265 L 1064.3885130372655 4696.311548010727 L 1064.3885130372655 4685.756493570727 L 1004.9611468001951 4685.756493570727" stroke-miterlimit="10" stroke-width="2.5131082"/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="1022.5529042001951" y="4699.829899490726" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">alt</text><g><rect fill="white" stroke="none" x="1079.3415068272654" y="4687.163834162727" width="161.70217931960937" height="18.295427696"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="1081.9802704372655" y="4699.829899490726" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Concurrent Score Updates]</text></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 17.591757400000006 4979.538842150728 L 1615.2651983953774 4979.538842150728 L 1615.2651983953774 5246.933554630728 L 17.591757400000006 5246.933554630728 L 17.591757400000006 4979.538842150728 Z" stroke-miterlimit="10" stroke-width="2.5131082"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 17.591757400000006 4979.538842150728 L 17.591757400000006 5000.648951030727 L 66.46406919707032 5000.648951030727 L 77.01912363707032 4990.093896590728 L 77.01912363707032 4979.538842150728 L 17.591757400000006 4979.538842150728" stroke-miterlimit="10" stroke-width="2.5131082"/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="35.183514800000005" y="4993.612248070727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">alt</text><g><rect fill="white" stroke="none" x="91.97211742707033" y="4980.946182742728" width="140.17234838699218" height="18.295427696"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="94.61088103707033" y="4993.612248070727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Malicious Action Proof]</text></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 17.591757400000006 5273.321190730729 L 1615.2651983953774 5273.321190730729 L 1615.2651983953774 5517.84661859073 L 17.591757400000006 5517.84661859073 L 17.591757400000006 5273.321190730729 Z" stroke-miterlimit="10" stroke-width="2.5131082"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 17.591757400000006 5273.321190730729 L 17.591757400000006 5294.431299610728 L 66.46406919707032 5294.431299610728 L 77.01912363707032 5283.876245170729 L 77.01912363707032 5273.321190730729 L 17.591757400000006 5273.321190730729" stroke-miterlimit="10" stroke-width="2.5131082"/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="35.183514800000005" y="5287.394596650728" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">alt</text><g><rect fill="white" stroke="none" x="91.97211742707033" y="5274.7285313227285" width="143.47146642898437" height="18.295427696"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="94.61088103707033" y="5287.394596650728" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Replay Attack Detected]</text></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 17.591757400000006 5544.23425469073 L 1615.2651983953774 5544.23425469073 L 1615.2651983953774 5811.628967170731 L 17.591757400000006 5811.628967170731 L 17.591757400000006 5544.23425469073 Z" stroke-miterlimit="10" stroke-width="2.5131082"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 17.591757400000006 5544.23425469073 L 17.591757400000006 5565.34436357073 L 66.46406919707032 5565.34436357073 L 77.01912363707032 5554.7893091307305 L 77.01912363707032 5544.23425469073 L 17.591757400000006 5544.23425469073" stroke-miterlimit="10" stroke-width="2.5131082"/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="35.183514800000005" y="5558.30766061073" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">alt</text><g><rect fill="white" stroke="none" x="91.97211742707033" y="5545.64159528273" width="168.84439123367187" height="18.295427696"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="94.61088103707033" y="5558.30766061073" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Score Manipulation Attempt]</text></g></g><g/><g/><g/><g/><g/><g/><g/><g/></g></svg>